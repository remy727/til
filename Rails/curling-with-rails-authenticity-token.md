# cURLing with Rails' Authenticity Token

### Step 1
```bash
curl http://localhost:5100 --cookie-jar cookie | grep csrf
```

That will store the cookies in a file named “cookie” and print out the `authenticity_token` you need (it’s the value of the content attribute on the csrf-token meta tag):

```html
<meta name="csrf-param" content="authenticity_token" />
<meta name="csrf-token" content="sNMk592JV2wwHn6DPJ8C5oy/hHDnjIlZBOHyngtTbp
```

Meanwhile, the contents of the cookies file looks like this:

```
# Netscape HTTP Cookie File
# https://curl.se/docs/http-cookies.html
# This file was generated by libcurl! Edit at your own risk.

#HttpOnly_localhost     FALSE   /       FALSE   0       _app_session        zoLStYQanFd86C99UDCEQHQR6PTsB3L%2BFz9KcBBBQHiLeJ%2BV2g9NAaJT0$
```

### Step 2
```bash
curl http://localhost:5100/users --data "email=user@test.com&password=123456&authenticity_token=cFwRiF9k_oUunbIHEE3YB6I-IIvgnEubNo9uzAbJ8Gh2J-85MdrEw3qFZaSlNPUdTthMMlf98U4mIbjMt5WwjQ" --cookie cookie
```

This adds the authenticity_token and also includes the cookie from the first request.